# Risk Register

## Overview
This register documents all identified risks for the Data Governance Pipeline project. Risks are reviewed and updated at each phase milestone.

**Risk Severity Matrix**
| Likelihood \ Impact | Low | Medium | High |
|---------------------|-----|--------|------|
| High | Medium | High | Critical |
| Medium | Low | Medium | High |
| Low | Low | Low | Medium |

---

## Active Risks

### R-001 â€” Source API Schema Change
**Status:** ðŸŸ¡ Monitoring  
**Owner:** Aaiyan Virji  
**Identified:** February 23, 2026  

| Attribute | Detail |
|-----------|--------|
| Description | NYC Open Data API changes column names or data types breaking extract.py |
| Likelihood | Medium |
| Impact | High |
| Severity | High |
| Affected Components | extract.py, transform.py, dq_checks.py |

**Mitigation Plan**
- extract.py logs all detected columns on every run for schema drift detection
- transform.py uses defensive column checks before dropping or transforming
- If schema changes, update COLUMNS_TO_DROP and DATE_COLUMNS constants in transform.py

**Residual Risk:** Medium â€” schema changes would require manual intervention but are detectable immediately from logs.

---

### R-002 â€” SQLite File Corruption
**Status:** ðŸŸ¢ Open  
**Owner:** Aaiyan Virji  
**Identified:** February 23, 2026  

| Attribute | Detail |
|-----------|--------|
| Description | SQLite database file becomes corrupted on large writes or interrupted pipeline runs |
| Likelihood | Low |
| Impact | Medium |
| Severity | Low |
| Affected Components | load.py, reports/nyc311.db |

**Mitigation Plan**
- Pipeline uses `if_exists="replace"` so database is fully rebuilt on every run
- Corrupted db file can be deleted and regenerated by re-running main.py
- reports/nyc311.db is excluded from git so corruption never affects the repo

**Residual Risk:** Low â€” full regeneration on every run means corruption is self-healing.

---

### R-003 â€” DQ Check Performance at Scale
**Status:** ðŸŸ¢ Open  
**Owner:** Aaiyan Virji  
**Identified:** February 23, 2026  

| Attribute | Detail |
|-----------|--------|
| Description | DQ checks run synchronously and may become a bottleneck beyond 500k rows |
| Likelihood | Medium |
| Impact | Medium |
| Severity | Medium |
| Affected Components | dq_checks.py |

**Mitigation Plan**
- Current implementation handles 5,000 rows in under 2 seconds â€” acceptable for portfolio scale
- Phase 3 will evaluate async validation or vectorized pandas operations if needed
- Row limit flag in main.py (`--limit`) allows controlled scaling for testing

**Residual Risk:** Medium â€” acceptable at current scale, revisit if row limit exceeds 100k.

---

### R-004 â€” Scope Creep into ML Modeling
**Status:** âœ… Closed  
**Owner:** Aaiyan Virji  
**Identified:** February 23, 2026  
**Closed:** February 23, 2026  

| Attribute | Detail |
|-----------|--------|
| Description | Project scope expands to include ML modeling on top of clean data, delaying governance artifact delivery |
| Likelihood | Low |
| Impact | Low |
| Severity | Low |
| Affected Components | All |

**Mitigation Plan**
- Scope explicitly defined in README â€” ML modeling listed as out of scope
- Decision Log DEC-001 documents dataset selection rationale
- Phase gates enforce scope boundaries

**Resolution:** Scope locked at pipeline + governance artifacts + docs site. ML explicitly out of scope and documented.

---

### R-005 â€” GitHub Pages Deployment Failure
**Status:** ðŸŸ¢ Open  
**Owner:** Aaiyan Virji  
**Identified:** February 23, 2026  

| Attribute | Detail |
|-----------|--------|
| Description | GitHub Actions workflow fails to build or deploy Docusaurus site to GitHub Pages |
| Likelihood | Medium |
| Impact | Medium |
| Severity | Medium |
| Affected Components | .github/workflows, Docusaurus site |

**Mitigation Plan**
- GitHub Actions workflow will be tested locally before push using act (local Actions runner)
- Build errors surface immediately in GitHub Actions logs
- Docusaurus build can be tested locally with `npm run build` before pushing

**Residual Risk:** Low â€” build failures are visible and fixable without data loss.

---

### R-006 â€” Virtual Environment Dependency Drift
**Status:** ðŸŸ¢ Open  
**Owner:** Aaiyan Virji  
**Identified:** February 23, 2026  

| Attribute | Detail |
|-----------|--------|
| Description | requirements.txt becomes out of sync with venv as packages are updated |
| Likelihood | Low |
| Impact | Low |
| Severity | Low |
| Affected Components | requirements.txt, venv |

**Mitigation Plan**
- Run `pip freeze > requirements.txt` after every new package install
- requirements.txt is committed and version controlled

**Residual Risk:** Low â€” easy to detect and fix by comparing pip freeze output.

---

## Risk Summary

| Risk ID | Description | Severity | Status |
|---------|-------------|----------|--------|
| R-001 | Source API Schema Change | High | ðŸŸ¡ Monitoring |
| R-002 | SQLite File Corruption | Low | ðŸŸ¢ Open |
| R-003 | DQ Check Performance at Scale | Medium | ðŸŸ¢ Open |
| R-004 | Scope Creep into ML Modeling | Low | âœ… Closed |
| R-005 | GitHub Pages Deployment Failure | Medium | ðŸŸ¢ Open |
| R-006 | Virtual Environment Dependency Drift | Low | ðŸŸ¢ Open |